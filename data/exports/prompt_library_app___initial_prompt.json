{"title":"Prompt Library App - Initial Prompt","content":"## Project Overview\nCreate a web application for managing AI prompts with CRUD functionality using FastAPI, SQLAlchemy, HTMX, Alpine.js, and TailwindCSS.\n\n## Tech Stack\n- **Backend**: FastAPI + SQLAlchemy\n- **Database**: SQLite\n- **Frontend**: HTMX + Alpine.js + TailwindCSS (CDN)\n- **Python**: 3.11+ (local installation)\n\n## Project Structure\n```\nprompt-library/\n├── app/\n│   ├── __init__.py\n│   ├── main.py              # FastAPI app entry point\n│   ├── database.py          # Database setup and session management\n│   ├── models.py            # SQLAlchemy models\n│   ├── schemas.py           # Pydantic schemas for validation\n│   └── crud.py              # Database operations\n├── static/\n│   └── styles.css           # Custom CSS if needed\n├── templates/\n│   ├── base.html            # Base template with navbar\n│   ├── index.html           # Main page with prompt list\n│   └── components/\n│       ├── prompt_card.html # Individual prompt display\n│       └── prompt_form.html # Form for create/edit\n├── data/                     # SQLite database will be created here\n├── requirements.txt\n├── .gitignore\n└── README.md\n```\n\n## Requirements (requirements.txt)\n```\nfastapi==0.104.1\nuvicorn[standard]==0.24.0\nsqlalchemy==2.0.23\njinja2==3.1.2\npython-multipart==0.0.6\n```\n\n## Dockerfile\n```dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\n\nEXPOSE 8000\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\", \"--reload\"]\n```\n\n## docker-compose.yml\n```yaml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - .:/app\n      - ./data:/app/data\n    environment:\n      - DATABASE_URL=sqlite:///./data/prompts.db\n```\n\n## Core Implementation Requirements\n\n### 1. Database Setup (app/database.py)\n- Create SQLAlchemy engine with SQLite\n- Define SessionLocal for database sessions\n- Create Base for model inheritance\n- Include `get_db()` dependency function\n\n### 2. Models (app/models.py)\nCreate a `Prompt` model with:\n- `id`: Integer, primary key, autoincrement\n- `title`: String(200), not nullable\n- `content`: Text, not nullable\n- `created_at`: DateTime, default to current time\n- `updated_at`: DateTime, update on modification\n\n### 3. Schemas (app/schemas.py)\nDefine Pydantic schemas:\n- `PromptBase`: title and content fields\n- `PromptCreate`: inherits PromptBase\n- `PromptUpdate`: inherits PromptBase\n- `Prompt`: includes id, created_at, updated_at with orm_mode\n\n### 4. CRUD Operations (app/crud.py)\nImplement functions:\n- `get_prompts()`: Get all prompts, ordered by updated_at desc\n- `get_prompt(id)`: Get single prompt by id\n- `create_prompt()`: Create new prompt\n- `update_prompt(id)`: Update existing prompt\n- `delete_prompt(id)`: Delete prompt\n\n### 5. FastAPI Routes (app/main.py)\nCreate the following endpoints:\n\n**HTML Pages:**\n- `GET /`: Render main page with all prompts\n\n**API Endpoints (return HTML fragments for HTMX):**\n- `POST /prompts`: Create new prompt, return updated prompt list\n- `GET /prompts/{id}/edit`: Return edit form for specific prompt\n- `PUT /prompts/{id}`: Update prompt, return updated card\n- `DELETE /prompts/{id}`: Delete prompt, return empty response\n\n**Setup:**\n- Configure Jinja2 templates\n- Mount static files\n- Create database tables on startup\n- Include proper error handling\n\n### 6. Frontend Templates\n\n#### base.html\n- Include TailwindCSS CDN: `https://cdn.tailwindcss.com`\n- Include HTMX: `https://unpkg.com/htmx.org@1.9.10`\n- Include Alpine.js: `https://unpkg.com/alpinejs@3.13.3/dist/cdn.min.js`\n- Clean, modern navigation bar with app title\n- Container layout with proper spacing\n\n#### index.html\n- Hero section with app title and description\n- \"Add New Prompt\" button that toggles form visibility (use Alpine.js)\n- Create form (hidden by default):\n  - Title input field\n  - Content textarea (larger)\n  - Save and Cancel buttons\n  - Use HTMX to POST to `/prompts`\n  - Target prompt list for replacement\n  - Reset form and hide on success\n- Prompts container (grid layout, 2-3 columns)\n- Empty state when no prompts exist\n\n#### components/prompt_card.html\n- Card design with:\n  - Title (bold, larger text)\n  - Content (with line clamping or truncation)\n  - Timestamp (created/updated)\n  - Action buttons: Edit and Delete\n  - Edit mode toggle (Alpine.js for state)\n  - Inline edit form (similar to create form)\n  - HTMX for PUT and DELETE requests\n\n#### components/prompt_form.html (if separated)\n- Reusable form component for create/edit\n- Proper form validation styling\n\n## Design Requirements\n\n### TailwindCSS Styling Guidelines\n- Use a clean, professional color scheme (blues/grays)\n- Card-based layout with shadows and rounded corners\n- Responsive grid (1 column mobile, 2-3 columns desktop)\n- Hover effects on interactive elements\n- Smooth transitions for show/hide actions\n- Proper spacing and typography hierarchy\n- Form inputs with proper styling and focus states\n- Button styles: primary (blue), secondary (gray), danger (red)\n\n### HTMX Integration\n- Use `hx-post`, `hx-put`, `hx-delete` for actions\n- Use `hx-target` to specify where responses render\n- Use `hx-swap` for how content is replaced (innerHTML, outerHTML, etc.)\n- Use `hx-confirm` for delete confirmations\n- Add loading indicators with `hx-indicator`\n\n### Alpine.js Usage\n- Manage form visibility (show/hide create form)\n- Toggle edit mode on prompt cards\n- Handle local UI state without page reloads\n\n## Additional Requirements\n\n1. **Error Handling**: Display user-friendly error messages\n2. **Form Validation**: Client-side and server-side validation\n3. **Loading States**: Show loading indicators during API calls\n4. **Responsive Design**: Mobile-friendly layout\n5. **Accessibility**: Proper ARIA labels and semantic HTML\n6. **Database Initialization**: Auto-create tables on startup\n\n## Getting Started Commands\n\nAfter generation, include these in README.md:\n\n```bash\n# Build and start the application\ndocker-compose up --build\n\n# Access the application\nopen http://localhost:8000\n\n# Stop the application\ndocker-compose down\n\n# View logs\ndocker-compose logs -f\n```\n\n## Success Criteria\n\nThe application should:\n1. Start successfully with `docker-compose up`\n2. Display a clean, professional UI\n3. Allow creating prompts with title and content\n4. Display all prompts in a grid layout\n5. Support inline editing of prompts\n6. Allow deletion with confirmation\n7. Persist data in SQLite database\n8. Work smoothly with HTMX (no full page reloads)\n9. Be fully responsive on mobile and desktop\n\n## Notes for AI Agent\n- Use modern Python async/await patterns where appropriate\n- Include type hints throughout the code\n- Add docstrings to functions\n- Follow FastAPI best practices\n- Ensure proper database session management\n- Make the UI polished and production-ready in appearance\n- Add helpful comments for learning purposes\n- Include basic error handling and validation","created_at":"2025-11-13T14:21:18.472609","updated_at":"2025-11-14T08:18:38.073768","notes":[]}